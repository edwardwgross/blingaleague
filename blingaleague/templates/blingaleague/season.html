{% extends "blingaleague/base.html" %}

{% block title %}{{ season }}{% endblock %}

{% block content %}
<h1>
  {{ season }}
  {% if week_max %}
    (through week {{ week_max }})
  {% endif %}
</h1>

<div id="season_details">
  {% if season.headline %}<h2>{{ season.headline }}</h2>{% endif %}

  {% include "blingaleague/standings_table.html" %}

  {% if season.all_time %}
    <div class="center">
      {% if season.include_playoffs %}
        <a href="{% url 'blingaleague.all_time' %}">Exclude playoffs</a>
      {% else %}
        <a href="{% url 'blingaleague.all_time' %}?include_playoffs">Include playoffs</a>
      {% endif %}
    </div>
  {% elif weeks_with_games %}
    <div class="center">
      Week:
      {% for week in weeks_with_games %}
        <a href="{% url 'blingaleague.week' season.year week %}">{{ week }}</a>
      {% endfor %}
    </div>
  {% endif %}

  {% if season.playoff_bracket %}
    {% include "blingaleague/playoff_bracket.html" %}
  {% endif %}

  <div class="wide_graph">{{ place_by_week_graph_html|safe }}</div>
  {% if season.previous %}
    <a href="{{ season.previous.href }}" class="link previous">Previous</a>
  {% endif %}
  {% if season.next %}
    <a href="{{ season.next.href }}" class="link next">Next</a>
  {% endif %}

  <div class="center">
    <a href="{% url 'blingaleague.seasons' %}">All seasons</a>
  </div>
</div>

{% endblock %}
